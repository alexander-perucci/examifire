<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorate="~{layout/layout.html}"
	th:with="aside_menu_active_link='dashboard'">
<!-- th:with="currentPage='user-edit'" it is used to pass parameters to layout in thymeleaf layout-dialect  -->

<head>
<title>Profile</title>
<!--
	You don't need to put the layout:fragment attribute
	into the <head> - the decoration process will automatically copy the 
	<head> section of this content templates into the layout page.
 
	<th:block layout:fragment="styles">
		<link th:href="@{/assets/plugins/custom/datatables/datatables.bundle.css}" rel="stylesheet" type="text/css" />
	</th:block>
-->
	<!--begin::Page Styles (used by this page) -->
	<link th:href="@{/assets/plugins/custom/cropper/cropper.bundle.css}" rel="stylesheet" type="text/css" />
	<!--end::Page Styles -->
</head>

<body>


	<!--begin::Subheader-->
	<div layout:fragment="contentheader"
		class="subheader py-2 py-lg-4 subheader-solid" id="kt_subheader">
		<div
			class="container-fluid d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap">
			<!--begin::Info-->
			<div class="d-flex align-items-center flex-wrap mr-1">
				<!--begin::Mobile Toggle-->
				<button
					class="burger-icon burger-icon-left mr-4 d-inline-block d-lg-none" id="kt_subheader_mobile_toggle">
					<span></span>
				</button>
				<!--end::Mobile Toggle-->
				<!--begin::Page Heading-->
				<div class="d-flex align-items-baseline mr-5">
					<!--begin::Page Title-->
					<h5 class="text-dark font-weight-bold my-2 mr-5">Profile 2</h5>
					<!--end::Page Title-->
					<!--begin::Breadcrumb-->
					<ul
						class="breadcrumb breadcrumb-transparent breadcrumb-dot font-weight-bold p-0 my-2 font-size-sm">
						<li class="breadcrumb-item"><a href="" class="text-muted">Apps</a>
						</li>
						<li class="breadcrumb-item"><a href="" class="text-muted">Profile</a>
						</li>
						<li class="breadcrumb-item"><a href="" class="text-muted">Profile
								2</a></li>
					</ul>
					<!--end::Breadcrumb-->
				</div>
				<!--end::Page Heading-->
			</div>
			<!--end::Info-->
			<!--begin::Toolbar-->
			<div class="d-flex align-items-center">
				<!--begin::Actions-->
				<a href="#" class="btn btn-light font-weight-bold btn-sm">Actions</a>
				<!--end::Actions-->
				<!--begin::Dropdown-->
				<div class="dropdown dropdown-inline" data-toggle="tooltip"
					title="Quick actions" data-placement="left">
					<a href="#" class="btn btn-icon" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false"> <span
						class="svg-icon svg-icon-success svg-icon-2x"> <!--begin::Svg Icon | path:assets/media/svg/icons/Files/File-plus.svg-->
							<svg xmlns="http://www.w3.org/2000/svg"
								xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
								height="24px" viewBox="0 0 24 24" version="1.1">
													<g stroke="none" stroke-width="1" fill="none"
									fill-rule="evenodd">
														<polygon points="0 0 24 0 24 24 0 24" />
														<path
									d="M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z"
									fill="#000000" fill-rule="nonzero" opacity="0.3" />
														<path
									d="M11,14 L9,14 C8.44771525,14 8,13.5522847 8,13 C8,12.4477153 8.44771525,12 9,12 L11,12 L11,10 C11,9.44771525 11.4477153,9 12,9 C12.5522847,9 13,9.44771525 13,10 L13,12 L15,12 C15.5522847,12 16,12.4477153 16,13 C16,13.5522847 15.5522847,14 15,14 L13,14 L13,16 C13,16.5522847 12.5522847,17 12,17 C11.4477153,17 11,16.5522847 11,16 L11,14 Z"
									fill="#000000" />
													</g>
												</svg> <!--end::Svg Icon-->
					</span>
					</a>
					<div
						class="dropdown-menu dropdown-menu-md dropdown-menu-right p-0 m-0">
						<!--begin::Navigation-->
						<ul class="navi navi-hover">
							<li class="navi-header font-weight-bold py-4"><span
								class="font-size-lg">Choose Label:</span> <i
								class="flaticon2-information icon-md text-muted"
								data-toggle="tooltip" data-placement="right"
								title="Click to learn more..."></i></li>
							<li class="navi-separator mb-3 opacity-70"></li>
							<li class="navi-item"><a href="#" class="navi-link"> <span
									class="navi-text"> <span
										class="label label-xl label-inline label-light-success">Customer</span>
								</span>
							</a></li>
							<li class="navi-item"><a href="#" class="navi-link"> <span
									class="navi-text"> <span
										class="label label-xl label-inline label-light-danger">Partner</span>
								</span>
							</a></li>
							<li class="navi-item"><a href="#" class="navi-link"> <span
									class="navi-text"> <span
										class="label label-xl label-inline label-light-warning">Suplier</span>
								</span>
							</a></li>
							<li class="navi-item"><a href="#" class="navi-link"> <span
									class="navi-text"> <span
										class="label label-xl label-inline label-light-primary">Member</span>
								</span>
							</a></li>
							<li class="navi-item"><a href="#" class="navi-link"> <span
									class="navi-text"> <span
										class="label label-xl label-inline label-light-dark">Staff</span>
								</span>
							</a></li>
							<li class="navi-separator mt-3 opacity-70"></li>
							<li class="navi-footer py-4"><a
								class="btn btn-clean font-weight-bold btn-sm" href="#"> <i
									class="ki ki-plus icon-sm"></i>Add new
							</a></li>
						</ul>
						<!--end::Navigation-->
					</div>
				</div>
				<!--end::Dropdown-->
			</div>
			<!--end::Toolbar-->
		</div>
	</div>
	<!--end::Subheader-->
	<!--begin::Entry-->
	<div layout:fragment="content" class="d-flex flex-column-fluid">
		<!--begin::Container-->
		<div class="container">
			<!--begin::Profile 2-->
			<div class="d-flex flex-row">
				<!--begin::Aside-->
				<div th:replace="account/profile/aside :: aside" ></div>
				<!--end::Aside-->


				<!--begin::Content-->
				<div class="flex-row-fluid ml-lg-8">
					<!--begin::Card-->
					<div class="card card-custom card-stretch">
						<!--begin::Header-->
						<div class="card-header py-3">
							<div class="card-title align-items-start flex-column">
								<h3 class="card-label font-weight-bolder text-dark">Personal
									Information</h3>
								<span class="text-muted font-weight-bold font-size-sm mt-1">Update
									your personal informaiton</span>
							</div>
							<div class="card-toolbar">
								<button id="form_submit" type="submit" class="btn btn-success mr-2">Save Changes</button>
								<button id="form_reset" type="reset" class="btn btn-secondary">Cancel</button>
							</div>
						</div>
						<!--end::Header-->
						<!--begin::Form-->
						<form id="profile_form" class="form" th:action="@{/home/profile/account-info}" th:object="${user}" enctype="multipart/form-data" method="post">
							<!--begin::Body-->
							<div class="card-body">
								<div class="row">
									<label class="col-xl-3"></label>
									<div class="col-lg-9 col-xl-6">
										<h5 class="font-weight-bold mb-6">Customer Info</h5>
									</div>
								</div>
								<div class="form-group row">
									<label class="col-xl-3 col-lg-3 col-form-label text-right">Avatar</label>
									<div class="col-lg-9 col-xl-6">
										<div class="image-input image-input-outline">
											<div id="avatar_account_info" class="image-input-wrapper"
												th:style="${user.avatar} == null ? 'background-image: url(' + @{/my-assets/media/users/default.jpg} + ');' : 'background-image: url(data:image/jpg;base64,' + ${new String(user.avatar)} + ');'"></div>
											<label
												class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
												data-action="change" data-toggle="tooltip" title=""
												data-original-title="Change avatar"> <i
												class="fa fa-pen icon-sm text-muted"></i>
												<input type="file" class="sr-only" id="file_avatar" name="image" accept=".png, .jpg, .jpeg"> 
											</label> <span
												class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
												data-action="remove" data-toggle="tooltip"
												title="Remove avatar"> <i
												class="ki ki-bold-close icon-xs text-muted"></i>
											</span>
										</div>
										<span class="form-text text-muted">Allowed file types: png, jpg, jpeg.</span>
										
										<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
									      <div class="modal-dialog" role="document">
									        <div class="modal-content">
									          <div class="modal-header">
									            <h5 class="modal-title" id="modalLabel">Change Avatar</h5>
									            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
									              <span aria-hidden="true">×</span>
									            </button>
									          </div>
									          <div class="modal-body">
									            <div class="img-container">
									              <img id="modal_image_avatar" src="" style="max-width: 100%; max-height: 300px;">
									            </div>
									          </div>
									          <div class="modal-footer">
									            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
									            <button type="button" class="btn btn-primary" id="modal_change_avatar">Change</button>
									          </div>
									        </div>
									      </div>
									    </div>
									</div>
								</div>
								
								<!--begin::Form group-->
								<div class="form-group row">
									<label class="col-xl-3 col-lg-3 col-form-label text-right">Username</label>
									<div class="col-lg-9 col-xl-6">
										<input class="form-control form-control-lg form-control-solid" type="text" autocomplete="off" th:field="*{username}" />
										 <div th:if="${#fields.hasErrors('username')} OR ${#fields.globalDetailedErrors()}" class="error invalid-feedback" style="display: block;">
											<span class="form-text text-danger" th:errors="*{username}">Error message</span>
											<!-- <span class="form-text text-danger" th:each="e : ${#fields.globalDetailedErrors()}" th:if="${e.code == 'DuplicatedUsername'}" th:text="${e.message}">Username global errors</span>  -->
										
										</div>
									</div>
								</div>
								<!--end::Form group-->
								<!--begin::Form group-->
								<div class="form-group row">
									<label class="col-xl-3 col-lg-3 col-form-label text-right">First Name</label>
									<div class="col-lg-9 col-xl-6">
										<input class="form-control form-control-lg form-control-solid" type="text" autocomplete="off" th:field="*{firstname}" />
										 <div th:if="${#fields.hasErrors('firstname')}" class="error invalid-feedback" style="display: block;">
											<span class="form-text text-danger" th:errors="*{firstname}">Error message</span>
										</div>
									</div>
								</div>
								<!--end::Form group-->
								<!--begin::Form group-->
								<div class="form-group row">
									<label class="col-xl-3 col-lg-3 col-form-label text-right">Last Name</label>
									<div class="col-lg-9 col-xl-6">
										<input class="form-control form-control-lg form-control-solid" type="text" autocomplete="off" th:field="*{lastname}" />
										 <div th:if="${#fields.hasErrors('lastname')}" class="error invalid-feedback" style="display: block;">
											<span class="form-text text-danger" th:errors="*{lastname}">Error message</span>
										</div>
									</div>
								</div>
								<!--end::Form group-->
								<!--begin::Form group-->
								<div class="form-group row" th:if="${#authorization.expression('hasRole(''ROLE_STUDENT'')')}">
									<label class="col-xl-3 col-lg-3 col-form-label text-right">Student ID number</label>
									<div class="col-lg-9 col-xl-6">
										<input class="form-control form-control-lg form-control-solid" type="text" autocomplete="off" th:field="*{identificationNumber}" />
										 <div th:if="${#fields.hasErrors('identificationNumber')}" class="error invalid-feedback" style="display: block;">											
											<span class="form-text text-danger" th:errors="*{identificationNumber}">Error message</span>
										</div>
									</div>
								</div>
								<!--end::Form group-->
								<!--begin::Form group-->
								<div class="form-group row">
									<label class="col-xl-3 col-lg-3 col-form-label text-right">Email</label>
									<div class="col-lg-9 col-xl-6">
										<input class="form-control form-control-lg form-control-solid" type="text" autocomplete="off" th:field="*{email}" />
										 <div th:if="${#fields.hasErrors('email')} OR ${#fields.globalDetailedErrors()}" class="error invalid-feedback" style="display: block;">
											<span class="form-text text-danger" th:errors="*{email}">Error message</span>
											<!-- <span class="form-text text-danger" th:each="e : ${#fields.globalDetailedErrors()}" th:if="${e.code == 'DuplicatedEmail'}" th:text="${e.message}">Email global errors</span> -->
										
										</div>
									</div>
								</div>
								<!--end::Form group-->
								
							</div>
							<!--end::Body-->
						</form>
						<!--end::Form-->
					</div>
				</div>
				<!--end::Content-->


			</div>
			<!--end::Profile 2-->
		</div>
		<!--end::Container-->
	</div>
	<!--end::Entry-->


	<!--begin::Page Scripts(used by this page) -->
	<th:block layout:fragment="scripts">
		<script th:src="@{/assets/plugins/custom/cropper/cropper.bundle.js}"></script>
		<script th:src="@{/my-assets/js/account/profile/aside.js}"></script>
		<script th:src="@{/my-assets/js/account/profile/account-info.js}"></script>

	</th:block>
	<!--end::Page Scripts -->
	
</body>
</html>